extends layout

block content
    h1 Art Battle Administration
    p.lead Internal control panel for sms voting system
    hr
    .row
        if (!user)
            .col-sm-6
                h2 Manage votes
                p Log in to create a voting session, or view and edit existing ones
                p
                    a.btn.btn-default(href='/login', role='button') Log In Â»
        else
            #koroot.col-sm-12
                h2 Manage votes
                // ko if: Editor
                // ko with: Editor
                
                // ko with: VoteSource
                form.form-horizontal
                    .form-group
                        label.col-sm-2.control-label(for='inputVoteName') Name
                        .col-sm-4
                            input#inputVoteName.form-control(type='text', placeholder='Name', data-bind='value: Name')
                    .form-group
                        label.col-sm-2.control-label(for='inputPhoneNumber') PhoneNumber
                        .col-sm-4
                            input#inputPhoneNumber.form-control(type='tel', placeholder='PhoneNumber', data-bind='value: PhoneNumber')
                    .form-group
                        .col-sm-offset-2.col-sm-4
                            .checkbox
                                label
                                    input(type='checkbox', data-bind='checked: Enabled')
                                    | Enabled
                // /ko

                .form-group
                    .col-sm-offset-4.col-sm-2
                        button.btn.btn-default(data-bind='click: Cancel') Cancel
                        button.btn.btn-primary(data-bind='click: Save') Save
                // /ko
                // /ko

                // ko ifnot: Editor
                table.table.table-bordred.table-striped
                    thead
                        th Name
                        th PhoneNumber
                        th Enabled
                        th Edit
                        th Delete
                    tbody
                        // ko foreach: VoteSources
                        tr
                            td(data-bind='text: Name')
                            td(data-bind='text: PhoneNumber')
                            td
                                input.checkthis(type='checkbox', data-bind='enable: false, checked: Enabled')
                            td
                                p(data-placement="top", data-toggle="tooltip", title="Edit")
                                    button.btn.btn-primary.btn-xs(data-bind="click: function() { $parent.Edit($data); }")
                                        i.glyphicon.glyphicon-pencil
                            td
                                p(data-placement="top", data-toggle="tooltip", title="Delete")
                                    button.btn.btn-danger.btn-xs(data-bind="click: function() { $parent.Delete($data); }")
                                        i.glyphicon.glyphicon-trash
                        // /ko
                // /ko
block append scripts
    if(user)
        script(src='/js/home.js')
    
